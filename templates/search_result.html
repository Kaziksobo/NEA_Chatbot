<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <link rel="stylesheet" href={{stylesheet}}>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <title></title>
    </head>
    <body>
        <div id="grid-container">
            <div id="sidebar">
                <div id="chatbot-select">
                    <img src="https://www.pngall.com/wp-content/uploads/12/Avatar-Profile-Vector.png" id="chatbot-icon">
                    <p id="chatbot-name">
                        Chatbot
                    </p>
                </div>
            </div>
            <div id="header">
                <form action="/search" method="post" autocomplete="off" id="search-form">
                    <input type="text" id="search-bar" name="search-bar" placeholder="Search messages here..." list="messages-list">
                    <datalist id="messages-list">
                        {% for message in messages_list %}
                            <option value="{{ message }}">
                        {% endfor %}
                    </datalist>
                </form>
            </div>
            <div id="main-result">
                <div id="back">
                    <form action="/back" id="back-form" method="post">
                        <button type="submit" id="back-button">
                            Return to message page
                        </button>
                    </form>
                </div>
                <div id="messages-container-result">
                    {% for message in messages %}
                        {% if message.type == 'ai' %}
                            <div class="ai-message-container" id="{{ message.id }}">
                                <div class="ai-message-icon">
                                </div>
                                <div class="ai-message-box message-box {{ message.class }}">
                                    <p class="ai-message-text message-text">
                                        {{ message.text }}
                                    </p>
                                    <button type="button" class="btn btn-info btn-lg report-button" data-toggle="modal" data-target="#report-modal">
                                    </button>
                                    <div class="modal fade" role="dialog" id="report-modal" tabindex="-1" aria-labelledby="report-modal-label" aria-hidden="true">
                                        <div class="vertical-alignment-helper">
                                            <div class="modal-dialog vertical-align-center">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title">
                                                            Report message
                                                        </h4>
                                                        <button type="button" class="btn btn-default modal-close-button" data-dismiss="modal"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <form action="/report" method="post" autocomplete="off" class="report-form">
                                                            <input type="text" class="report-reason-input" name="report-{{ message.id }}" placeholder="Enter report reason here...">
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% else %}
                            <div class="user-message-box message-box {{ message.class }}" id="{{ message.id }}">
                                <p class="user-message-text message-text">
                                    {{ message.text }}
                                </p>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
            <div id="settings">
                <form action="/theme" id="colour-mode-form" method="post">
                    <button type="submit" id="colour-mode-button">
                    </button>
                </form>
            </div>
        </div>
    </body>
</html>